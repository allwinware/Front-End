/* z-index */
.ags-summary { z-index: 500; &.active { z-index: 1500 } }
.page-dim { z-index: 1000 }

/* common */
.page-dim {
  transition: all 1s;
  position: fixed; left: 0; top: 0; right: 0; bottom: 0;
  background-color: rgba(0,0,0,0.25);
}
.page-loading {
  display: block;
  position: relative;
  width: rem(80); height: rem(80);
  background-color: $mono10;
  border-radius: 50%; text-indent: -999em;
  .ico {
    $size: 24;
    @include align-center;
    @include background($file: 'popup/ico_page-loading', $type: png, $width: rem($size), $height: rem($size));
    @include animation($delay: 0, $duration: 1s, $animation: anm_page-loading, $direction: forward, $fillmode: fowards);
    display: inline-block;
    width: rem($size); height: rem($size);
    animation-iteration-count: infinite;
  }
}
@include keyframe($animation_name: anm_page-loading){
  0% {
    -webkit-transform: translate(-50%, -50%) rotate(0);
    -ms-transform: translate(-50%, -50%) rotate(0);
    transform: translate(-50%, -50%) rotate(0);
  }
  70%, 100% {
    -webkit-transform: translate(-50%, -50%) rotate(-360deg);
    -ms-transform: translate(-50%, -50%) rotate(-360deg);
    transform: translate(-50%, -50%) rotate(-360deg);
  }
}


/* popup common layout */
.pop-area {
  display: none;
  overflow: auto;
  position: fixed; top: 0; right: 0; bottom: 0; left: 0;
  &.active { display: block; }
}
.pop-wrap {
  @include align-center;
  padding: rem(12); width: calc(327 / 375 * 100%); min-height: rem(291);
  border-radius: rem(3); background-color: $mono10
}

/* data-type='modal' */

/* data-type='alert' */
[data-type='alert'] {
  .pop-container { padding-bottom: rem(40); text-align: center; }
  .ico-wrap {
    padding-top: rem(30);
    [class*='ico_alert'] {
      $size: 48;
      overflow: hidden;
      position: relative;
      display: inline-block;
      width: rem($size); height: rem($size);
      background-color: $mono9; border-radius: 50%;
      text-indent: -999em;
      &:before {
        @include background($file: 'popup/ico_exclamation--w', $type: png, $width: rem(4), $height: rem(28));
        @include align-center;
        content: "";
        display: inline-block;
        width: rem(4); height: rem(28);
      }
    }
    [class*='--primary'] {
      background-color: $bg-primary;
    }
  }
  .alert-title {
    @include font($size: 16, $color: $mono1, $weight: 600, $spacing: -0.03);
    padding-top: rem(30);
  }
  .alert-text {
    @include font($size: 13, $color: $mono1, $weight: 400, $spacing: -0.03);
    padding-top: rem($grid * 2);
    line-height: rem(18);
  }
  .pop-footer {
    @include flex(space-between stretch flex-start nowrap);
    margin: 0 rem(-2); height: rem(50);
    [class^='btn_'] { margin: 0 rem(2) !important; }
    .btn_cancel {
      @include form($type: button, $size: 4, $role: cancel);
      width: auto; min-width: rem(90);
    }
    .btn_confirm {
      @include form($type: button, $size: 4, $role: submit);
      flex: 1 auto;
    }
  }
}

/* GNB 메뉴 팝업 */
.ags-header .gnb-wrap .gnb-2dp-wrap {
  transition: all $trs-duration;
  transition-delay: $trs-delay;
  opacity: 0; visibility: hidden;
  overflow: auto;
  position: fixed; left: calc(-375 / 375 * 100%); top: 0; bottom: 0;
  padding: rem($grid * 8) 0 rem($grid * 4) rem($grid * 2); width: 100%;
  background-color: $mono10;
  .btn_close { position: absolute; right: rem($grid * 2); top: rem($grid * 2) }
  li { float: none !important; margin: 0 !important; }
  &.active {
    opacity: 1; visibility: visible;
    position: fixed; left: 0; top: 0; right: 0; bottom: 0;
  }
  .depth1 > li {
    @include font($size: 16, $color: $mono1, $weight: 600, $spacing: -0.03);
    border-bottom: 1px solid $mono8;
    min-height: rem(50);
    a {
      display: block;
      padding: rem($grid * 2) rem($grid * 2);
      color: inherit; text-decoration: none;
    }
  }
  .depth2 {
    padding-bottom: rem($grid * 2);
    & > li {
      @include font($size: 14, $color: $mono1, $weight: 400, $spacing: -0.03);
      a { padding: rem($grid * 1) rem($grid * 2) rem($grid * 1) rem($grid * 3) }
    }
  }
}

/* 합계 팝업 */
.ags-summary {
  overflow: hidden;
  position: fixed; bottom: 0; left: 0; right: 0;
  margin-top: rem(-$summary-height); padding: rem(6) 0 0; height: rem($summary-height);
  color: $mono10;
  .btn_drawer {
    z-index: 11;
    @include background($file: 'buy/btn_summary-drawer', $type: png, $width: rem(40), $height: rem(11));
    overflow: hidden;
    position: absolute; left: 50%; top: 0;
    -webkit-transform: translate(-50%, 0);
    -ms-transform: translate(-50%, 0);
    transform: translate(-50%, 0);
    text-indent: -999em;
    display: block;
    width: rem(40); height: rem(16);
    background-position: 50% 0;
    .ico {
      @include background($file: 'buy/ico_summary-drawer', $type: png, $width: rem(8), $height: rem(6));
      display: block;
      position: absolute; left: 50%; top: 0;
      -webkit-transform: translate(-50%, 0) rotate(0);
      -ms-transform: translate(-50%, 0) rotate(0);
      transform: translate(-50%, 0) rotate(0);
      transform-origin: 50% 50%;
      width: rem(16); height: rem(16);
      background-position: 50% 50%;
      transition: all 0.2s;
      transition-delay: 0.2s;
    }
  }
  .inner-wrap {
    overflow: auto;
    height: 100%; background-color: $mono1;
  }
  .total {
    width: 100%; height: rem(100);
    dl { display: table; table-layout: fixed; padding: 0 rem(10); width: 100%; height: rem(60); }
    dt, dd { display: table-cell; padding: 0 rem(6); white-space: nowrap; vertical-align: middle; }
    dt {
      @include font($size: 12, $color: inherit, $weight: 500, $spacing: -0.03);
      width: (130 / 343 * 100%);
      a { color: inherit; text-decoration: none; }
    }
    dt + dd {
      @include font($family: en, $size: 18, $color: $text-primary, $weight: 600, $spacing: -0.03);
      text-align: right;
    }
    dt + dd + dd { text-align: center; width: (103 / 343 * 100%); }
    .btn_pay-imm {
      @include form($size: 2, $role: normal, $type: button);
      margin: 0; width: auto;
      border-color: rgba(255,255,255,0.5); background-color: transparent; color: $mono10
    }
  }
}
.passenger-summary {
  transition: 0.75s all;
  transition-delay: 0.25s;
  position: fixed; bottom: rem(-50); left: 0; right: 0;
  padding: rem(50) 0 0 rem($grid * 2); height: 0;
  background-color: $mono10; border-radius: 16px 16px 0 0;
  .btn_drawer {
    @include background($file: 'common/btn_ags-summary-close', $type: png, $width: rem(20), $height: rem(20));
    -webkit-transform: translate(0,0);
    -ms-transform: translate(0,0);
    transform: translate(0,0);
    overflow: hidden;
    position: absolute; right: rem(16); top: rem(16);
    display: inline-block;
    width: rem(24); height: rem(24);
    background-position: 50% 50%;
    text-indent: -999em;
    .ico { display: none; }
  }
  .summary-title {
    @include font($size: 16, $color: $mono1, $weight: 800, $spacing: -0.03);
  }
  .passenger-name {
    @include font($family: en, $size: 14, $color: $text-primary, $weight: 500, $spacing: -0.03);
    @include background($file: 'common/ico_ags-summary-passenger', $type: png, $width: rem(12), $height: rem(12));
    @include text-uppercase;
    margin: rem(40) 0 rem(12); padding-left: rem(20);
  }
  .table-wrap {
    border-top: 1px solid $mono1;
    .charge-sheet {
      @include table($style: type1, $mg-size: small);
      th, td { padding: rem($grid) 0; vertical-align: middle; }
      tfoot th, tfoot td { background-color: transparent; }
      thead th, tbody th, tbody td, tfoot th, tfoot td { border-bottom: 0; }
      tbody td:last-of-type { text-align: right; }
      tfoot tr:first-of-type > * {
        border-top: 1px solid $mono1
      }
      tfoot tr > * { height: rem(44); border-bottom: 1px solid $mono8; }
      tfoot th {
        @include font($size: 12, $color: $mono1, $weight: 600, $spacing: -0.03);
        padding: rem(12) 0 !important; text-align: left;
      }
      tfoot td {
        text-align: right;
        .digits {
          @include font($family: en, $size: 13, $color: $text-primary, $weight: 500, $spacing: -0.03);
        }
      }
      tbody th, tbody td { height: rem(30); }
      tbody th[scope='row'] {
        @include font($size: 13, $color: $mono1, $weight: 800, $spacing: -0.03);
        text-align: left;
      }
      tbody tr.title_route + tr + tr + tr + tr > * { height: rem(42); padding-bottom: rem($grid * 2) !important }
      .title_route th {
        height: rem(40);
        text-align: left; vertical-align: bottom;
        span {
          @include tagging-route
        }
      }
      tbody tr + tr.title_route th { border-top: 1px solid $mono8; }
      a, a:active, a:visited { color: #66B1FF; }
    }
  }
}
.passenger-summary.active {
  display: block;
  top: auto; bottom: 0;
  padding: rem(50) 0 0 rem($grid * 2);
}

[data-page-id='popup'] {
  .list-wrap {
    padding: rem($grid * 2) 0 0 rem($grid * 2);
  }
  .list-style1 {
    li { border-bottom: 1px solid $mono8 }
    a {
      @include font($size: 14, $color: $mono1, $weight: 400, $spacing: -0.03);
      display: block; padding: rem($grid* 2) rem($grid * 2);
      text-decoration: none;
    }
  }
}