<!DOCTYPE html>
<html lang="ko" style="overflow: hidden;">
<head>
	<meta charset="utf-8">
	<meta name="viewport"
		content="height=device-height, width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
	<title>AlphaSeat</title>
	<link rel="stylesheet" href="./resource/css/newui.css">
	<link rel="stylesheet" href="./resource/css/content.css">
	<link rel="stylesheet" href="./resource/css/reset.css">
	<link rel="stylesheet" href="./resource/css/common.css">
	<script src='./resource/js/jquery-3.4.1.min.js'></script>
	<script src='./resource/js/jquery.min.js'></script>
	<script src="./resource/js/alpha.mo.ui.js"></script>
	<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>

function play() {
		const audio = document.getElementById("audio_play");
		audio.pause();
		audio.currentTime = 0;
		audio.play();
	}

	document.addEventListener("click", function(e) {
	const soundBtn = e.target.closest(".sound-btn");
	if (soundBtn) {
		play();
	}
});

</script>
</head>

<body style="overflow: hidden;">
	<audio id="audio_play" src="./resource/mouse.mp3"></audio>
	<div class="dimmed_bgs" ></div>
	<div class="ags-wrap newui food demos sound-btn">
		<h1 class="site-name">올윈에어</h1>
		<div class="dimmed_bg" style="display: none;"></div>
		<header>
			<div class="tway_sun"></div>
			<div class="ags-header">
				<a href="javascript:history.back();" class="btn_back">뒤로가기</a>
				<div class="ags-header-logo"></div>
				<div class="gnb-wrap">
					<ul>
						<li>
							<a href="#none" id="btn_gnb" class="btn_gnb">메뉴</a>
							<div id="gnb-2dp" class="gnb-2dp-wrap">
								<a href="#none" target="_self" id="btn_gnb-close" class="btn_close">메뉴 닫기</a>
								<p class="welcome-msg">안녕하세요. <br>
								<span class="customer-name">ALLWIN AIR</span>님</p>
								<ul class="depth1">
									<li>
										<a href="#none" target="_self">항공 부가서비스 사전 신청</a>
									</li>
									<li class="new active">
										<a href="#none" target="_self">기내 면세품 예약</a>
									</li>
									<li>
										<a href="#none" target="_self">마이페이지</a>
										<ul class="depth2">
											<li>
												<a href="mypage.html" target="_self">- 부가서비스 신청내역</a>
											</li>
										</ul>
									</li>
									<li>
										<a href="#none" target="_self">고객센터</a>
										<ul class="depth2">
											<li>
												<a href="cscenter.html" target="_self">- 공지사항</a>
											</li>
										</ul>
									</li>
								</ul>
								<ul class="fnb">
									<li><a href="#none" target="_self">개인정보취급방침</a></li>
									<li class="center_txt">고객센터 : 1522-4148(평일 10:00 ~ 17:00)</li>
								</ul>
							</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="gnb_menu">
				<div class="finger_demo3"></div>
				<div class="demo_gnb_menu2_3"></div>
				<div class="demo_gnb_menu3">
					<div onclick="window.location.href='index.html';">같이 앉는 좌석</div>
					<div onclick="window.location.href='service_baggage.html';" >수하물 할인</div>
					<div onclick="window.location.href='service_food.html';" class="blue_text">맛있는 기내식</div>
					<div onclick="window.location.href='service_insurance.html';">여행보험</div>
				</div>
			</div>
			<div class="select_boxbtn">
				<div class="select_backbtn active" flyInfo="1">
					<button id="ags-wrap-back" class="btn_back_c">
						<div class="boxbtn_flyb">
							<div class="de_ways2">ICN</div>
							<div class="de_ways3">비행기이미지</div>
							<div class="de_ways4">CXR</div>
						</div>
					</button>
				</div>
				<div class="select_comebtn" flyInfo="2">
					<button id="ags-wrap" class="btn_come_c">
						<div class="boxbtn_flyb">
							<div class="de_ways2">CXR</div>
							<div class="de_ways3">비행기이미지</div>
							<div class="de_ways4">ICN</div>
						</div>
					</button>
				</div>
			</div>
		</header>
		<div class="contents separate200 foodnewui" id="con_slider">
			<div class="slider1" segIdx="1">
				<div class="bag_slider_box">
					<div class="slider_box_line">
						<div class="demos_boxs active" qty="1">
							<div class="demos_boxs_tx1">1</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img1">이미지</div>
								<div class="demos_boxs_tx4">LEE<br>JIYOUNG</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="2">
							<div class="demos_boxs_tx1">2</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img2">이미지</div>
								<div class="demos_boxs_tx4">KIM<br>SUNGJIN</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="3">
							<div class="demos_boxs_tx1">3</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img1">이미지</div>
								<div class="demos_boxs_tx4">LEE<br>JISOO</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="4">
							<div class="demos_boxs_tx1">4</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img3">이미지</div>
								<div class="demos_boxs_tx4">KIM<br>JINHUI</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
					</div>
				</div>
				<div class="food_img_center">
				</div>
				<div class="food_txt_center">
					기내식을 선택하세요
				</div>
				<div class="food_contens_box">
					<div class="food_list">
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img1"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd1" class="checkbox-spd">
								<label for="basic-spd1" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>불고기 덮밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img2"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd2" class="checkbox-spd">
								<label for="basic-spd2" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>건강 가득 비빔밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img3"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd3" class="checkbox-spd">
								<label for="basic-spd3" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>치킨데리야끼 볶음밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img4"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd4" class="checkbox-spd">
								<label for="basic-spd4" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>함박 스테이크</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div class="tws_img3">
				</div>

			</div>
			<div class="slider2" segIdx="2">
				<div class="bag_slider_box">
					<div class="slider_box_line">
						<div class="demos_boxs active" qty="1">
							<div class="demos_boxs_tx1">1</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img1">이미지</div>
								<div class="demos_boxs_tx4">LEE<br>JIYOUNG</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="2">
							<div class="demos_boxs_tx1">2</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img2">이미지</div>
								<div class="demos_boxs_tx4">KIM<br>SUNGJIN</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="3">
							<div class="demos_boxs_tx1">3</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img1">이미지</div>
								<div class="demos_boxs_tx4">LEE<br>JISOO</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
						<div class="demos_boxs" qty="4">
							<div class="demos_boxs_tx1">4</div>
							<div class="demos_boxs_flex">
								<div class="demos_boxs_img3">이미지</div>
								<div class="demos_boxs_tx4">KIM<br>JINHUI</div>
							</div>
							<div class="demos_boxs_tx2"></div>
						</div>
					</div>
				</div>
				<div class="food_img_center">
				</div>
				<div class="food_txt_center">
					기내식을 선택하세요
				</div>
				<div class="food_contens_box">
					<div class="food_list">
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img1"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd5" class="checkbox-spd">
								<label for="basic-spd5" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>불고기 덮밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img2"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd6" class="checkbox-spd">
								<label for="basic-spd6" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>건강 가득 비빔밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img3"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd7" class="checkbox-spd">
								<label for="basic-spd7" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>치킨데리야끼 볶음밥</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
						<div class="food_list_content foodlistcontent">
							<div class="food_list_img4"></div>
							<div class="item-wrap-dvd">
								<input type="checkbox" id="basic-spd8" class="checkbox-spd">
								<label for="basic-spd8" class="checkbox-label-spd"></label>
								<span class="title-spd">
									<div>함박 스테이크</div>
									<span class="title-spd-txt1">KRW 12,000</span>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div class="tws_img3">
				</div>

			</div>
		</div>

		<!----------------------------------------------->
		<div class="ags-summary ">
			<h4 class="sr-only">부가서비스 결제금액</h4>
			<div class="foot_align">
				<div class="btn_footer_open" style="pointer-events: none;"><span></span></div>

				<div class="btf_a">
					<div>
						<span>LEE JIYOUNG</span>님
						<span class="btf_a_people">4</span>인
					</div>

					<div class="price_display_tw2">
						<div class="food-price-bottom" id="priceAmount_tw2">55,000</div>
					</div>
				</div>
				<div class="btf_bbtn" footerBtn="shift">
					<div>다음</div>
				</div>
			</div>
			<div class="footer_contents">
				<a class="btn_footer_close">Close</a>
				<div class="pay_content">
					<div class="creditcard newui">
						<div class="card_warp">
							<div class="card_name">신청내역</div>
							<div class="card_name_btn">
								<div>
									항공권
								</div>
								<div>
									부가서비스
								</div>
							</div>
							<div class="credit_box_btn" agrBtn style="display: none;"></div>
						</div>
						<div agrLt class="credit_agree_box_content dis on" style="display: block;">
							<!-- 목적지,항공편명,로고,시간-->
							<div>
								<div class="card_boxfst">
									<div>
										<span>인천 ICN</span>→
										<span>나트랑 CXR</span>
									</div>
									<div class="air_logo jinair_w" style="display: none;"></div>
								</div>
								<div class="card_boxtwi">
									<div>10/01 09:15</div>
									<div>(단위 KRW)</div>
								</div>
							</div>
							<!-- 사람 -->
							<div class="bd_pxc">
								<div class="ccd_man1"></div>
							</div>

							<!-- 목적지,항공편명,로고,시간-->
							<div>
								<div class="card_boxfst">
									<div>
										<span>인천 ICN</span>→
										<span>나트랑 CXR</span>
									</div>
									<div class="air_logo jinair_w" style="display: none;"></div>
								</div>
								<div class="card_boxtwi">
									<div>10/01 09:15</div>
									<div>(단위 KRW)</div>
								</div>
							</div>
							<div class="bd_pxc">
								<div class="ccd_man2"></div>
							</div>
						</div>
					</div>

					<div class="credit_total_footer">
						<div class="credit_total">
							<div>부가서비스 총 결제 금액</div>
							<div class="credit_total_box3">
								<div style="font-size: 16px; font-family: 'PretendardB';">KRW 589,000원</div>
								<div style="color: #666; font-size: 11px; font-family: 'PretendardL';">KRW 105,000 절약</div>
							</div>
						</div>
						<div class="payment_btn0">
							<div class="payment_btn1">바로결제</div>
							<div class="payment_btn2 btn_footer_closex">확인했어요</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	<!----------------------------------------------->
		<div class="ags_bags_contents" >
			<div class="scroll_btn" style="display: none;">
				<a href="#none" class="btn_bags_open">골프여행이신가요?</a>
			</div>
			<div class="bags_contents_group">
				<a class="btn_bags_close">Close</a>
				<div class="bagss_golf">
					<div class="bd_golf">
						<div class="ccd_man3"></div>
					</div>
					<div class="bd_golf">
						<div class="ccd_man4"></div>
					</div>
				</div>
			</div>
		</div>
	<!--버튼 1개 맨 밑-->
	<div class="pay_pay newui" style="display: none;">
		<button type="button" class="">결제하기</button>
	</div>
	<!--버튼 2개 맨 밑-->
	<div class="pay_pay newui" style="display: none;">
		<button type="button" class="pay_ment_btn1">건너띄기</button>
		<!--opnge 빼면 그레이색-->
		<button type="button" class="pay_ment_btn2 opnge">가는편 메뉴 선택</button>
	</div>

<script>

String.prototype.comma = Number.prototype.comma = function() {
	var n = String(this).replace(/\,/g,'');
	return n.match(RegExp('^[0-9]{'+(n.length%3||3)+'}|[0-9]{3}','g'));
}


document.addEventListener("DOMContentLoaded", () => {
	const runCounter = () => {
		let num = 1;
		let counter = document.getElementById("counter0");

		// counter 요소가 있을 때만 실행
		if (!counter) {
			console.log('counter0 요소를 찾을 수 없습니다.');
			return;
		}

		let interval = setInterval(() => {
			counter.textContent = String(num).padStart(2, "0");
			num++;
			if (num > 28) {
				clearInterval(interval);
				setTimeout(runCounter, 3000);
			}
		}, 50);
	};

	runCounter();
});


// 여정탭이동
$(document).on("click", "#ags-wrap, #ags-wrap-back", function() {
	var segIdx		= $(this).parent().attr("flyInfo");

	// 다음버튼 css 초기화
	$("[footerBtn=shift]").removeClass("active");

	var curSegQty	=  $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

	if (curSegQty > 0) {
		$("[footerBtn=shift]").addClass("active");
	} else {
		$("[footerBtn=shift]").removeClass("active");
	}
});


// 수하물 선택
$(document).on("click", ".slider_box_line .demos_boxs", function () {
	var segIdx		= $(".select_boxbtn > div.active").attr("flyInfo");

	// 문구설정
	$(this).siblings().get().forEach((cur,idx) => {
		$(cur).find(".demos_boxs_tx3").text($(cur).find(".demos_boxs_tx3").data("msg") || "");
	});

	var actQty		= Number($(this).attr("qty"));
	var actWgt		= $(this).find(".demos_boxs_tx1").text();
	var actQtyLt	= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").filter((i,e) => $(e).data("qty")).get().map((e) => $(e).data("qty")).filter((item, idx, self) => self.indexOf(item) == idx);

	$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", false);

	if (actQtyLt.length == 1) {
		var boxLt		= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box").length;
		var actBoxLt	= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").filter((i,e) => $(e).data("qty") == actQty).length;

		if (boxLt == actBoxLt) {
			$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", true);
		} else {
			$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", false);
		}
	}

	//if (actQty) {
	//	$(this).find(".demos_boxs_tx3").text("공항보다 "+(actQty*25000).comma()+"절약");
	//}

	$("[segIdx="+segIdx+"] .bag_txt_same").show().find(".blue_text").text(actWgt);
});


// 통일하기
$(document).on("click", ".bag_txt_same :checkbox", function () {
	var segIdx		= $(".select_boxbtn > div.active").attr("flyInfo");
	var actBag		= $("[segIdx="+segIdx+"] .slider_box_line .demos_boxs.active");

	if (actBag.length <= 0) {
		alert("먼저 위에서 수하물 옵션을 선택해주세요.");
		return;
	}

	var isChecked	= $(this).is(":checked");

	if (isChecked) {
		$("[segIdx="+segIdx+"] .bag_slider_boxbox .bag_slider_name_box_2").trigger("click");
	} else {
		$("[segIdx="+segIdx+"] .bag_slider_boxbox .bag_slider_name_box_2_1").trigger("click");
	}
});


// 추가하기
$(document).on("click", ".bag_slider_boxbox .bag_slider_name_box_2", function () {
	var segIdx		= $(".select_boxbtn > div.active").attr("flyInfo");
	var actBag		= $("[segIdx="+segIdx+"] .slider_box_line .demos_boxs.active");

	if (actBag.length <= 0) {
		alert("먼저 위에서 수하물 옵션을 선택해주세요.");
		return;
	}

	var atcBagQty	= Number($(actBag).attr("qty"));
	var actBagTxt	= $(actBag).find(".demos_boxs_tx1").text()+"("+$(actBag).find(".demos_boxs_tx2").text()+")";

	$(this).hide().data("qty", atcBagQty);
	$(this).next("").html('<div class="bag_slider_name_box_2_1_txt">'+actBagTxt+'</div><div class="bag_slider_name_box_2_1_img"></div>').show();

	var saving		= $(".foot_align .btf_a_txt > [saving]").attr("saving");
	var actQty		= $("[segIdx]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

	$(".demo_gnb_menu1 .blue_text > span").text((actQty*25000).comma()+" 절약");
	$(".foot_align .btf_a_txt > span").text("누적 KRW "+(Number(saving)+(actQty*25000)).comma()+" 절약중");

	if (actQty > 0) {
		$(".demo_gnb_menu1 .blue_text > span").show();
	}

	var curSegQty	=  $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

	if (curSegQty > 0) {
		$("[footerBtn=shift]").addClass("active");
	} else {
		$("[footerBtn=shift]").removeClass("active");
	}

	var boxLt		= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box").length;
	var actBoxLt	= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").filter((i,e) => $(e).data("qty") == atcBagQty).length;

	if (boxLt == actBoxLt) {
		$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", true);
	} else {
		$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", false);
	}
});


// 추가하기 취소
$(document).on("click", ".bag_slider_boxbox .bag_slider_name_box_2_1", function () {
	var segIdx		= $(".select_boxbtn > div.active").attr("flyInfo");

	$(this).html("").hide();
	$(this).prev().data("qty", null).show();

	var saving		= $(".foot_align .btf_a_txt > [saving]").attr("saving");
	var actQty		= $("[segIdx]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

	$(".demo_gnb_menu1 .blue_text > span").text((actQty*25000).comma()+" 절약");
	$(".foot_align .btf_a_txt > span").text("누적 KRW "+(Number(saving)+(actQty*25000)).comma()+" 절약중");

	if (actQty <= 0) {
		$(".demo_gnb_menu1 .blue_text > span").hide();
	}

	var curSegQty	=  $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

	if (curSegQty > 0) {
		$("[footerBtn=shift]").addClass("active");
	} else {
		$("[footerBtn=shift]").removeClass("active");
	}

	var actBag		= $("[segIdx="+segIdx+"] .slider_box_line .demos_boxs.active");
	var atcBagQty	= Number($(actBag).attr("qty"));
	var boxLt		= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box").length;
	var actBoxLt	= $("[segIdx="+segIdx+"]").find(".bag_slider_name_box_2").filter((i,e) => $(e).data("qty") == atcBagQty).length;

	if (boxLt == actBoxLt) {
		$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", true);
	} else {
		$("[segIdx="+segIdx+"] .bag_txt_same :checkbox").prop("checked", false);
	}
});


// 다음버튼 클릭
$(document).on("click", "[footerBtn=shift]", function(e){
	var segIdx		= $(".select_boxbtn > div.active").attr("flyInfo");

	if (segIdx == 1) {
		$("#ags-wrap").trigger("click");
	} else {
		var saving		= $(".foot_align .btf_a_txt > [saving]").attr("saving");
		var actQty		= $("[segIdx]").find(".bag_slider_name_box_2").get().reduce((acc,cur) => acc+Number($(cur).data("qty") || 0),0);

		window.location.href = "service_insurance.html?qty="+actQty;
	}

	e.stopPropagation();
});


// 가운데로 스크롤하는 함수 251118-------------------------------------------------------------------
function centerActiveBox() {
	const sliderLine = document.querySelector('.slider_box_line');
	const activeBox = document.querySelector('.demos_boxs.active');

	if (activeBox && sliderLine) {
		// 박스의 위치와 컨테이너의 중심 계산
		const boxLeft = activeBox.offsetLeft;
		const boxWidth = activeBox.offsetWidth;
		const containerWidth = sliderLine.offsetWidth;

		// 박스를 가운데로 보내기 위한 스크롤 위치 계산
		const scrollPosition = boxLeft - (containerWidth / 2) + (boxWidth / 2);

		sliderLine.scrollTo({
			left: scrollPosition,
			behavior: 'smooth'
		});
	}
}

// 페이지 로드 시
document.addEventListener('DOMContentLoaded', function() {
	const firstBox = document.querySelector('.demos_boxs');

	// 첫 번째 박스에 active 추가
	if (firstBox) {
		firstBox.classList.add('active');
		// 렌더링 완료 후 가운데로
		setTimeout(centerActiveBox, 100);
	}

	// 모든 박스에 클릭 이벤트 추가
	document.querySelectorAll('.demos_boxs').forEach(box => {
		box.addEventListener('click', function() {
			// 모든 active 제거
			document.querySelectorAll('.demos_boxs').forEach(b => {
				b.classList.remove('active');
			});

			// 클릭한 박스에 active 추가
			this.classList.add('active');

			// 가운데로 스크롤
			centerActiveBox();
		});
	});
});

// 초기 적용
$(document).ready(function() {
	// 수하물 슬라이더가 있을 때만 실행
	if ($(".slider1 #range_tw").length > 0) {
		const initialValue = Number($(".slider1 #range_tw").val());
		update_tw(initialValue);
		updateSliderBG_tw();
	}
});

function calculatePrice_tw(kg) {
	const extra = kg - 15;
	return (extra / 5) * 55000;
}

function formatPrice_tw(price) {
	return price.toLocaleString('ko-KR');
}

function update_tw(val) {
	let extra = val - 15;

	// 현재 active 영역 찾기
	var activeSlider = $(".select_boxbtn .active").attr("flyInfo");
	var targetSlider = activeSlider == "1" ? ".slider1" : ".slider2";

	if (extra === 0) {
		$(targetSlider + " #finalText_tw").text("15KG");
		$(targetSlider + " .demos_boxs.active .demos_boxs_tx2").text("15KG");
	} else {
		$(targetSlider + " #finalText_tw").text("15KG + " + extra + "KG");
		$(targetSlider + " .demos_boxs.active .demos_boxs_tx2").text("15KG + " + extra + "KG");
	}

	// 가격 업데이트
	const price = calculatePrice_tw(val);
	$(targetSlider + " #priceAmount_tw").text(formatPrice_tw(price));
	$("#priceAmount_tw2").text(formatPrice_tw(price));

	$(targetSlider + " #kgList_tw .kg_item_tw").removeClass("active_tw");
	$(targetSlider + ' #kgList_tw .kg_item_tw[data-value="' + val + '"]').addClass("active_tw");
}

function updateSliderBG_tw() {
	// 현재 active 영역 찾기
	var activeSlider = $(".select_boxbtn .active").attr("flyInfo");
	var targetSlider = activeSlider == "1" ? ".slider1" : ".slider2";

	const slider = $(targetSlider + " #range_tw")[0];
	if (!slider) return; // 슬라이더가 없으면 종료

	const min = Number(slider.min);
	const max = Number(slider.max);
	const val = Number(slider.value);

	const percent = ((val - min) / (max - min)) * 100;

	const imgPath = "resource/img/bg_range_slider.png";

	const bgValue = `
		linear-gradient(to right,
			rgba(255,255,255,0) 0%,
			rgba(255,255,255,0) ${percent}%,
			#f1d8d8 ${percent}%,
			#f1d8d8 100%
		),
		url('${imgPath}') left center / auto 100% repeat-x
	`;

	$(targetSlider + " #range_tw").css("background", bgValue);
}

// 각 탭의 슬라이더에 이벤트 바인딩
$(".slider1 #range_tw, .slider2 #range_tw").on("input", function () {
	update_tw(Number($(this).val()));
	updateSliderBG_tw();
});

$(".slider1 .kg_item_tw, .slider2 .kg_item_tw").on("click", function () {
	const val = $(this).data("value");
	var activeSlider = $(".select_boxbtn .active").attr("flyInfo");
	var targetSlider = activeSlider == "1" ? ".slider1" : ".slider2";

	$(targetSlider + " #range_tw").val(val);
	update_tw(val);
	updateSliderBG_tw();
});

// 초기 적용
if ($(".slider1 #range_tw").length > 0) {
	update_tw(Number($(".slider1 #range_tw").val()));
	updateSliderBG_tw();
}

</script>

	</body>
</html>
